<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NFL Passer Rating</title>
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css">
  <style media="screen">
    #rating p {
      font-size: 20px;
      text-align: center;
    }
    .pure-table td, .pure-table th {
      font-size: 12px;
      text-align: center;
    }
    @media only screen and (max-width: 480px) {
      .pure-form-aligned .pure-control-group label {
        margin-bottom: .3em;
        text-align: right;
        display: inline-block;
        max-width: 30%
      }
    }
  </style>
</head>
  <body>
    <div class="container">
      <h3>NFL Passer Rating Calculation</h3>

      <form class="pure-form pure-form-aligned">
        <div class="pure-control-group pure-g">
          <label class="pure-u">Completions</label>
          <input class="pure-u-1-5 pure-u-md-1-4" type="number" name="completions" value="">
        </div>
        
        <div class="pure-control-group pure-g">
          <label class="pure-u">Attempts</label>
          <input class="pure-u-1-5 pure-u-md-1-4" type="number" name="attempts" value="">
        </div>
        
        <div class="pure-control-group pure-g">
          <label class="pure-u">Yards</label>
          <input class="pure-u-1-5 pure-u-md-1-4" type="number" name="yards" value="">
        </div>
        
        <div class="pure-control-group pure-g">
          <label class="pure-u">Touchdowns</label>
          <input class="pure-u-1-5 pure-u-md-1-4" type="number" name="touchdowns" value="">
        </div>
        
        <div class="pure-control-group pure-g">
          <label class="pure-u">Interceptions</label>
          <input class="pure-u-1-5 pure-u-md-1-4" type="number" name="interceptions" value="">
        </div>
      </form>
      
      <div class="pure-g" id="rating">
        <p class="pure-u-1 pure-u-md-1-4">0.0</p>
      </div>
      <table class="pure-table pure-table-bordered">
        <thead>
          <th>Completion %</th>
          <th>Yards/attempt</th>
          <th>TD per Attempt</th>
          <th>INT per Attempt</th>
        </thead>
        <tbody>
          <tr>
            <td id="compPercent">0</td>
            <td id="yardsPerAttempt">0</td>
            <td id="tdPerAttempt">0</td>
            <td id="intPerAttempt">0</td>
          </tr>
        </tbody>
      </table>
      <table class="pure-table pure-table-bordered">
        <thead>
          <th>Comp/A Points</th>
          <th>Y/A Points</th>
          <th>TD/A Points</th>
          <th>INT/A Points</th>
        </thead>
        <tbody>
          <tr>
            <td id="a">0</td>
            <td id="b">0</td>
            <td id="c">0</td>
            <td id="d">0</td>
          </tr>
        </tbody>
      </table>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" charset="utf-8"></script>
    
    <script type="text/javascript">
      function calculate(){
        var attempts = $('input[name="attempts"]').val()
        var completions = $('input[name="completions"]').val()
        var yards = $('input[name="yards"]').val()
        var td = $('input[name="touchdowns"]').val()
        var int = $('input[name="interceptions"]').val()
        
        var completionPercentage = Math.round((completions/attempts)*1000)/10;
        var yardsPerAttempt = Math.round((yards/attempts)*10)/10;
        var tdPerAttempt = Math.round((td/attempts)*100)/10;
        var intPerAttempt = Math.round((int/attempts)*100)/10;
        
        var a = ((completions/attempts) - 0.3)*5;
        var b = ((yards/attempts) - 3) * 0.25;
        var c = (td/attempts) * 20;
        var d = 2.375 - ((int/attempts) * 25);
        
        if (a > 2.375) {
          a = 2.375;
        }
        if (a<0){
          a=0
        }
        if (b > 2.375) {
          b = 2.375;
        }
        if (b < 0) {
          b = 0;
        }
        if (c > 2.375) {
          c = 2.375;
        }
        if (d > 2.375) {
          d = 2.375;
        }
        if (d < 0) {
          d = 0;
        }
        
        var rating = Math.round(((a+b+c+d)/6)*1000)/10;
        if (rating < 0){
          rating = 0.0;
        };
        $('#rating p').text(rating);
        
        $('#compPercent').text(completionPercentage);
        $('#yardsPerAttempt').text(yardsPerAttempt);
        $('#tdPerAttempt').text(tdPerAttempt);
        $('#intPerAttempt').text(intPerAttempt);
        $('#a').text(Math.round(a*1000/6*100)/1000)
        $('#b').text(Math.round(b*1000/6*100)/1000)
        $('#c').text(Math.round(c*1000/6*100)/1000)
        $('#d').text(Math.round(d*1000/6*100)/1000)
      };
      $('input').keyup(function(event) {
        calculate();
      });
    </script>
  </body>
</html>